matrix:
  include:
    - language: node_js
      addons:
        sonarcloud:
          organization: "swsnu"
          token:
            secure: "E3/V/6Xy7mLjSmvRRAR7UnBHVfMhPnIJP72wd1aFOoV0DgpfXz7XAptgQOm2K50gExBjrJOz8EqI5C/pG4WOCZ/7fn+iaG4B8onHFTIEYwznE6sNr+tY8VnT0aXOUoF6ZB8ZdSxJngea1pMSnW+T9clDfjJuymbFXDXqb9XbOtSAirVZi24LBu/znlq/x7gbvi8FQL3YRX3SvyNeERDH1GdLDH/CqYMfHJZMIJX1P+dDWoPqBnwuguEY7cca77N/opiuHWnozapEd0WwES0Pel0KTdRBG/nwKtygvDcNzXqMOAJ5vKBoT7PMjf1lD31cQ9sfaM8MKTRD1fTzln18ezkrwQ5HRfGDEGpXnlB5zTt38pFXl/71Ly6vSsrJB7UZJxv9X2kTl4TyU+V+8f/pLToho7NiKv+R3Zn2IhHVQ+02PVyWfmIx0K+8Fu4z99QHiM+TnVy5peK3eY5dA2687gfFj/EZcmL8JOvtzVU7WE7YBrX2baKyjt95p/V8al9WuzpHRrPizo9O0KgSPOyZSH3dn3DQ1taPVtddGCIy1r258GMi6VsNPefDYA+2YFgJfaMgtZSRxXLFVtJxogCIW4IiCrE0tEJ3sulQ+Fm4f445V+xN7MsgyYJxbpDygnIFfTkfrZCAl7YMr8RJTVgLTHt8ZN2fuxhgc0sNdeYQ2bY="
      node_js: '12'
      cache:
        - yarn: true
      before_install:
        - cd frontend/caffeine
      install:
        - yarn install
      script:
        #- ./node_modules/.bin/eslint src/
        - yarn test --coverage --watchAll=false
        - cd ..
        - cd ..
        - sonar-scanner

    - language: python
      python: '3.7'
      cache:
        - pip: true
      before_install:
        - cd backend/caffeine
      install:
        - pip install -r requirements.txt
      script:
        #- pylint **/*.py --load-plugins pylint_django
        - coverage run --source='.' manage.py test
        - coverage xml