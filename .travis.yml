matrix:
  include:
    - language: node_js
      addons:
        sonarcloud:
          organization: "swsnu"
          token:
            secure: "Z4a+77VQiybYh4pV+5rnUS9mNObovFtDyfaJuwCKr9JYo5hYsPvaSXncW0uC2s/WLQFzzPuMYDdpaQbYywMQklLbeVLhGP0Molv6eEUc3mDjImfSCfQS+yTgSO+iGO8Q4GCgWhth5iP72bJkoGf+vueHQTDpJeYvVNI+zDEKGPTbxitvK9ZJZiW2oDBIhcCFGHTIS7Y1iLoNuy/cIsG0HvxfWyAeX1D485DQkn6wMQxgVXDBOYj8eY1Zmoyu60yjNjslEPdfP6MBbAlJ/asRHKxrArbqT4iU2ma0WIutk7rIIOMK0jQCs5n6GShg7qC8l/LhgHyNczVdeomwiYklygJMIhOr0uoHz2HAJx3F+5027NlhtlDLD2XZ9iMAkadHncPLGeEXEINuqbOCcrFQMoGR8kV64WmTqO/R55Cxg6vIB9tLkQZ7BS3ZN9Zm/mKWz7qYjjXzMFWhm4b510dGZxBWvoaRkuo6V+QlWqKYPXwFW64jztVPrFZGsvTlFnatY7qjGVcJtNUXLs9ru0inVAiU72j0tO1zju1zlPlZs7CCM4WE1RiBhs8qWJR3g52ZKMdqOCK28ie3+kyHrGABef2qnvanCINn3JWxX2BCRGDsuYAHJQTHYmdySze0kRPY6cD7Cvs97Y/j3PVFiAqbrkFKnmMcQAL6xPzKHRDiFK0="
      node_js: '12'
      cache:
        - yarn: true
      before_install:
        - cd frontend/caffeine
      install:
        - yarn install
      script:
        #- ./node_modules/.bin/eslint src/
        - yarn test --coverage --watchAll=false
        - cd .. && cd ..
        - sonar-scanner

    - language: python
      python: '3.7'
      cache:
        - pip: true
      before_install:
        - cd backend/caffeine
      install:
        - pip install -r requirements.txt
      script:
        #- pylint **/*.py --load-plugins pylint_django
        - coverage run --source='.' manage.py test
        - coverage xml